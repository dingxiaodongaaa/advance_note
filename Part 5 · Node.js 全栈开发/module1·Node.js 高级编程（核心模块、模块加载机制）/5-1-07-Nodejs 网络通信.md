# 网络通信

## 网络通信基本原理

### 通信必要条件

- 主机之前需要有传输介质
- 主机必须有网卡设备
- 主机之间需要协商传输速率

## 网络通讯方式

- 交换机通讯
- 路由器通讯

如何建立多台主机互联？

## 网络层次模型

### OSI 七层模型

1. 应用层：用户与网络的接口
2. 表示层：数据加密、转换、压缩
3. 会话层：控制网络连接建立与终止
4. 传输层：控制数据传输可靠性
5. 网络层：确定目标主机
6. 数据链路层：确定目标主机
7. 物理层：各种物理设备合标准

## 数据的封包和拆包

数据的封包和拆包是为了解决TCP粘包的问题，其核心思想就是按照约定好的规则先去把数据进行打包，当使用数据的时候再去使用与欸的那个的规则进行拆包

首先将消息分成定长的消息头和不定长的消息体两部分，如何将消息头分为序列号和消息长度两部分。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210611200955100.png?type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Zhbmd4dWFuMTUwOQ==,size_16,color_FFFFFF,t_70)

### 数据传输过程

1. 进行数据编码，获取二进制数据包
2. 按照规则拆解数据，获取指定长度的数据

### Buffer 数据读写

1. writeInt16BE: 将 value 从内存的指定位置写入
2. readInt16BE: 从指定位置开始读取数据

